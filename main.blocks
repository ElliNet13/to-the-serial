<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="h47OS;1z@n2~`Wo[Px1t">connectedBT</variable><variable id="u8:JVNWHBC[O7dRiykii">i</variable><variable id="txm{RdrR#i(e?.DnjX0D">c</variable><variable id="~{8S[=%QKL12MYTv83lG">result</variable><variable id="OOKd:j0y.Jn@~Q#g.{%t">line</variable><variable id="O{.%8Bi96P6{G#y+WXfa">line2</variable><variable id="!)ZLydskcbXh?@pFBxrB">prefix</variable></variables><block type="bluetooth_on_connected" id="A2v%kv%DQ;3_nQbFu.+(" x="632" y="-57"><statement name="HANDLER"><block type="variables_set" id="-2,LiLaN[rTzwgN[}mU6"><field name="VAR" id="h47OS;1z@n2~`Wo[Px1t">connectedBT</field><value name="VALUE"><shadow type="math_number" id=";C=LFYnkUiO)yXthFK0d"><field name="NUM">0</field></shadow><block type="logic_boolean" id="Ld,lbk^FR*T42CFT`XGf"><field name="BOOL">TRUE</field></block></value><next><block type="basic_show_icon" id="FQ2;bBk}!u@Nj^OhX?sx"><field name="i">IconNames.Yes</field><next><block type="bluetooth_uart_write" id="uKK}H:H*w*s`,2!$q!Mu"><value name="data"><block type="typescript_expression" id="d%3UdmX|oAqNnT;^%o|,"><field name="EXPRESSION">"READY\r\n"</field></block></value><next><block type="device_pause" id="7{L{_dVZx)5M=WmU9+uL"><value name="pause"><shadow type="timePicker" id="T#IWa)a66rsh;hEY%c*1"><field name="ms">1000</field></shadow></value><next><block type="device_clear_display" id="?QY)fd0t%R0Z))y)[JXV"></block></next></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" id="[Sx|9yz]axgCD=P/Kcb{" x="0" y="0"></block><block type="bluetooth_on_disconnected" id="SI-{fn)SX`Ia*.A1#_%0" x="1904" y="-57"><statement name="HANDLER"><block type="variables_set" id="=zf[e*hqSUNN@p9XE+ve"><field name="VAR" id="h47OS;1z@n2~`Wo[Px1t">connectedBT</field><value name="VALUE"><shadow type="math_number" id="uLNeLb_.._GCGyykuJZ2"><field name="NUM">0</field></shadow><block type="logic_boolean" id="*z~+^fHCO~#!C,37EAcv"><field name="BOOL">FALSE</field></block></value><next><block type="basic_show_icon" id="U4FUBt49-Qr4jf35l^,g"><field name="i">IconNames.No</field></block></next></block></statement></block><block type="device_button_event" id="9J%~.%)X88:-iNdT.Mez" x="2307" y="-57"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="function_call" id="LuY7|r_x$`wg9;J4-U^Z"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="#DCRw%xYP(,rItgrW@1e"><field name="TEXT">A</field></shadow></value></block></statement></block><block type="device_button_event" id=":i9k(592rsY?nRuWPIfQ" x="2570" y="-57"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="function_call" id="xWWJo|h(Zz[fB5x,U`Z3"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id=";:]h6Tzn:lr/9P_UYO)Z"><field name="TEXT">A+B</field></shadow></value></block></statement></block><block type="device_button_event" id="W0Tg!r}NLcvG8[*A`0O6" x="2850" y="-57"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="function_call" id="FX6)51cCcY5S$+GBoP#J"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="+WMj~3^0RnpX|r^8xYKO"><field name="TEXT">B</field></shadow></value></block></statement></block><block type="device_forever" id=".,)F2h+LnR7Sq%Ne3j3o" x="-332" y="3132"><statement name="HANDLER"><block type="device_pause" id=".PB.LzUq~wuD4}hm*F9N"><value name="pause"><shadow type="timePicker" id="c#XpJ|Q`8e{w-f%F~9!J"><field name="ms">1000</field></shadow></value><next><block type="serial_writevalue" id="y_|Gk)kU+@%bElVgKr*,"><value name="name"><shadow type="text" id="0@u|**rV*ALu)*X,IxO|"><field name="TEXT">temp</field></shadow></value><value name="value"><block type="device_temperature" id="O{gsw`ynoi3?)nwp@DEs"></block></value></block></next></block></statement></block><block type="input_logo_event" id="m,bU4qx,2]dzjiC8iTHY" x="173" y="3132"><field name="action">TouchButtonEvent.LongPressed</field><comment pinned="false" h="80" w="160">Button / logo events</comment><statement name="HANDLER"><block type="function_call" id="Z]-xVKcZ:A~S#:7Q1w^C"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="9;~_pQ=%?_sTvSKR}pw~"><field name="TEXT">logolongpress</field></shadow></value></block></statement></block><block type="input_logo_event" id="=y;lcy$/w.Tywc|Cd9np" x="524" y="3132"><field name="action">TouchButtonEvent.Touched</field><statement name="HANDLER"><block type="function_call" id=";Z)C#ee~e7-fLfSa4fr~"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="kf9F_r48X#[0ZsD@zd/;"><field name="TEXT">logotouch</field></shadow></value></block></statement></block><block type="input_logo_event" id="D(ExbQiECSh91NwF]aKa" x="840" y="3132"><field name="action">TouchButtonEvent.Pressed</field><statement name="HANDLER"><block type="function_call" id="I98NP$npy7L_0f;6fWJ0"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="!!373:{3gaBY1/vSImkp"><field name="TEXT">logopress</field></shadow></value></block></statement></block><block type="input_logo_event" id="nPOln-0y#kH!;Uw|%ckz" x="1156" y="3132"><field name="action">TouchButtonEvent.Released</field><statement name="HANDLER"><block type="function_call" id="w1/{L?1tP?%5g1U.ypj$"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><value name="3t8j4001catf33m0f1h4"><shadow type="text" id="y!wx{4lQ95JMWf8y,Irm"><field name="TEXT">logorelease</field></shadow></value></block></statement></block><block type="function_definition" id="^Xa/|*lc6pU8q7S)+i3~" x="2241" y="3132"><mutation name="sendData" functionid="maxC,ljMCZa2=^u8$,|8"><arg name="data" id="3t8j4001catf33m0f1h4" type="string"></arg></mutation><field name="function_name">sendData</field><comment pinned="false" h="80" w="160">Send data to serial and Bluetooth if connected</comment><value name="3t8j4001catf33m0f1h4"><block type="argument_reporter_string" id="/]p:c!]_9^#V):VP=Gi|" deletable="false"><field name="VALUE">data</field></block></value><statement name="STACK"><block type="serial_writeline" id="Qr}0sRS#MY)G`E3Yq{62"><value name="text"><block type="argument_reporter_string" id="n:ed{`tqJq.w,2LG!lJ]"><field name="VALUE">data</field></block></value><next><block type="controls_if" id="Mx]D65(u6#MM$#T5G0UU"><value name="IF0"><shadow type="logic_boolean" id="-0;z-OV{Vu*|z``sWZxu"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=",q6ji5sS(E5NB@l1T$I+"><field name="VAR" id="h47OS;1z@n2~`Wo[Px1t">connectedBT</field></block></value><statement name="DO0"><block type="bluetooth_uart_write" id="vZ1;0]h.jG6)d)ZM?~do"><value name="data"><block type="text_join" id="7s+Shz5H4ckd17o,PEIu"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="s]E^r{;C|e-2dgh56)qq"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="2G2/k}|kA^P7G_z|~/2#"><field name="VALUE">data</field></block></value><value name="ADD1"><shadow type="text" id="?=~jE!7F0qu!o@Se=`gm"><field name="TEXT"></field></shadow><block type="typescript_expression" id="@F}BbRoo0tD!;Sv3-`x!"><field name="EXPRESSION">"\r\n"</field></block></value></block></value></block></statement></block></next></block></statement></block><block type="function_definition" id="j@3wS7C{c{g5pTivoDq9" x="2852" y="3132"><mutation name="clampCoord" functionid="Q^V4|uD*VCw!k3^I9m=b"><arg name="v" id="kcwz9iarwoyut5nvi48m" type="number"></arg><arg name="minVal" id="5me3r217io05512ieia8" type="number"></arg><arg name="maxVal" id="tuwv67xrdx1nzutma2gmz" type="number"></arg></mutation><field name="function_name">clampCoord</field><comment pinned="false" h="80" w="160">Clamp function for coordinates</comment><value name="kcwz9iarwoyut5nvi48m"><block type="argument_reporter_number" id="7ILit^OclF+}4%J(X@3;" deletable="false"><field name="VALUE">v</field></block></value><value name="5me3r217io05512ieia8"><block type="argument_reporter_number" id="=~jv$|C,A9m:nLsT,Vx}" deletable="false"><field name="VALUE">minVal</field></block></value><value name="tuwv67xrdx1nzutma2gmz"><block type="argument_reporter_number" id="-j-L1PE2m8Nm!;$5ft*p" deletable="false"><field name="VALUE">maxVal</field></block></value><statement name="STACK"><block type="controls_if" id="tv!O6}KItcOM`^B_APIE"><value name="IF0"><shadow type="logic_boolean" id="7EZ?5Po!a(qXKl6}`nEp"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="pLF0]%NYmAOQ%K03BS;R"><field name="OP">LT</field><value name="A"><shadow type="math_number" id=".}K7pPOHO^.Wc-]{rdaM"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="{Ehg$xvNVE2lZWVj!b1p"><field name="VALUE">v</field></block></value><value name="B"><shadow type="math_number" id="$D~M*!$gr#c-JLfv?+U]"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="q]1b,+#KSFbmJ]AhuRrM"><field name="VALUE">minVal</field></block></value></block></value><statement name="DO0"><block type="function_return" id="):@W*_%L!iw#Fh+@m{/{"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="bK}D;ISy:Kz)uE~i,0AX"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="m~itGtac5Pz$W#Jv$|Q3"><field name="VALUE">minVal</field></block></value></block></statement><next><block type="controls_if" id="ofcQbVII=fdz16CrX$q("><value name="IF0"><shadow type="logic_boolean" id="gZ?=X#p-*68G0l@vnOJ~"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="u6wUW8-Y6;e=uj,IIUu%"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="+Ou;|_t3(F7}G:c/}@@c"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="djd}?/F*:@giLk[Epf]I"><field name="VALUE">v</field></block></value><value name="B"><shadow type="math_number" id="Nk5YN2.7=ak2UY:kd3wU"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="MLgOh3WHcMXrqW.@;9ZE"><field name="VALUE">maxVal</field></block></value></block></value><statement name="DO0"><block type="function_return" id="[}-}e3u!2PYEQnqtnr:2"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="1DJ6^MGC+k%+zt[)C{sK"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="u*?`pb?CUO`?/@~vZC(+"><field name="VALUE">maxVal</field></block></value></block></statement><next><block type="function_return" id="+%=,N]F2ALw-JXKA0vhn"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="XY4o]y,wzwvU:;3E60PD"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="||DxQ|jA,FUtA$Koet#7"><field name="VALUE">v</field></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="$+0++Ir#H#!;WEz)#M-6" x="-332" y="3626"><mutation name="cleanLine" functionid="A7c)V=?4Upnq3z@U=:U1"><arg name="line" id="5dbmtsyi937lwci8xrgdf" type="string"></arg></mutation><field name="function_name">cleanLine</field><comment pinned="false" h="80" w="160">Clean line: remove non-printable characters</comment><value name="5dbmtsyi937lwci8xrgdf"><block type="argument_reporter_string" id="($9V{my},u,Ni*kX_{97" deletable="false"><field name="VALUE">line</field></block></value><statement name="STACK"><block type="pxt_controls_for" id="UW3?$8sH4Mp|M*obLbCi"><value name="VAR"><block type="variables_get_reporter" id="ttFu4yNWjtWqvH]:|DYW" deletable="false"><field name="VAR" id="u8:JVNWHBC[O7dRiykii">i</field></block></value><value name="TO"><shadow type="math_whole_number" id="ja/T1o^p?)[c_*OHn*@,"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="pQuKksxoQ=_]1sSpdxC["><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="/cI0_Km%fv9rJA*3]4wq"><field name="NUM">0</field></shadow><block type="text_length" id="5ayIE2ip(uL1vTmBj4IZ"><value name="VALUE"><block type="argument_reporter_string" id="*s0,0%6,YlW$/%Nd8`cJ"><field name="VALUE">line</field></block></value></block></value><value name="B"><shadow type="math_number" id="UWHwB9=f*U12aG#)%4eZ"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="`[gDZA5GQBC/q0[zt8um"><field name="VAR" id="txm{RdrR#i(e?.DnjX0D">c</field><value name="VALUE"><shadow type="math_number" id="kykA7,_ft?SJb?HO^mpb"><field name="NUM">0</field></shadow><block type="string_charcode_at" id="iE.HZ+%v}|F_oXU{/Fuc"><value name="this"><shadow type="text" id="vsUYVcB,~8%CI0Pe*5;p"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="K?UP*.oF^6xwzFoY@j`8"><field name="VALUE">line</field></block></value><value name="index"><block type="variables_get" id=";iaX5?#:YM}tW_|g9E8E"><field name="VAR" id="u8:JVNWHBC[O7dRiykii">i</field></block></value></block></value><next><block type="controls_if" id="RQCGfO7eCbak^uj;aCfM"><value name="IF0"><shadow type="logic_boolean" id="XB`%b:=Hy^+oH@0h0pab"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="*ALhzaA]_fA`ht{|[eE/"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="JoI,2Rm4jH.^8l3CtuTQ"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+HlE!naBx%IW|R9{PkD0"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="TSz#8yC-$wig)HT*j2-G"><field name="NUM">0</field></shadow><block type="variables_get" id="}7R5etFG}c.H#ekTs{eq"><field name="VAR" id="txm{RdrR#i(e?.DnjX0D">c</field></block></value><value name="B"><shadow type="math_number" id="Q(RF?[k2@6XO835[E!%R"><field name="NUM">32</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id=",hber/-oL#L!D[NneJWI"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="A${7PQR9iWCKis(JHLth"><field name="OP">LTE</field><value name="A"><shadow type="math_number" id="zm*^ZHP~9j/KG$U(J6$~"><field name="NUM">0</field></shadow><block type="variables_get" id="e*{C.I~LuwNnsA.bNOsV"><field name="VAR" id="txm{RdrR#i(e?.DnjX0D">c</field></block></value><value name="B"><shadow type="math_number" id="R.MqJ]_cmGk^t0keU1i2"><field name="NUM">126</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="J?H?I`op:Xs(adxU=`-7"><field name="VAR" id="~{8S[=%QKL12MYTv83lG">result</field><value name="VALUE"><shadow type="math_number" id="J.*}C14Bmsu?r-Qh062#"><field name="NUM">0</field></shadow><block type="text_join" id="Q6O_g*dZN~(6eeibAQw?"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="dmRMi41tNi7Buol/1/MU"><field name="TEXT"></field></shadow><block type="variables_get" id="HDB7fqyWf6#Mkwv~u19O"><field name="VAR" id="~{8S[=%QKL12MYTv83lG">result</field></block></value><value name="ADD1"><shadow type="text" id="..Y!;),UD(`w,LV0JCJ$"><field name="TEXT"></field></shadow><block type="lists_index_get" id="%r;u,kFV6,DuU9NkE=av"><value name="INDEX"><shadow type="math_number" id="YF/1-x?]sf2JOOWmIM{L"><field name="NUM">0</field></shadow><block type="variables_get" id="u=n:}(-pK(=SX(^dxK0p"><field name="VAR" id="u8:JVNWHBC[O7dRiykii">i</field></block></value></block></value></block></value></block></statement></block></next></block></statement><next><block type="function_return" id="`;L;{gILbuloan}TT6GA"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="upwFRILp:n=/.vJi$Z4z"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Zn+BCYBRY-B~+I0H{|.,"><field name="EXPRESSION">_py.py_string_strip(result)</field></block></value></block></next></block></statement></block><block type="function_definition" id="GU(xpX7}.A0u.7}vrGMy" x="423" y="3626"><mutation name="extract_text" functionid="Q9^T{Upnrmi-?_jvFSBK"><arg name="line" id="5ct5hrx49xcp7hrzp45rm" type="string"></arg></mutation><field name="function_name">extract_text</field><comment pinned="false" h="80" w="160">Optional helper to extract TEXT commands</comment><value name="5ct5hrx49xcp7hrzp45rm"><block type="argument_reporter_string" id="oIr}0,d4%htmWyQ_j%;%" deletable="false"><field name="VALUE">line</field></block></value><statement name="STACK"><block type="variables_set" id="CoAFQxK5fGjt5k:F5a:J"><field name="VAR" id="!)ZLydskcbXh?@pFBxrB">prefix</field><value name="VALUE"><shadow type="math_number" id="@^Wg)|wgFF!^}vB~r`Lc"><field name="NUM">0</field></shadow><block type="text" id="-}Y2pDXWTS,1o}~UXfr3"><field name="TEXT">TEXT </field></block></value><next><block type="controls_if" id=".@eqk-ff%z1MVB_Vleix"><value name="IF0"><shadow type="logic_boolean" id="n9OT};$}!mIPd.wD_XSO"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="SoP5B.G:Qh3Gw+U0%5Bf"><field name="EXPRESSION">_py.py_string_startswith(line, prefix)</field></block></value><statement name="DO0"><block type="function_return" id="XiXMC!hI5g9%Q6/wfoRY"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="+d;@5JJkHh1,=-;Z4^pu"><field name="NUM">0</field></shadow><block type="typescript_expression" id="go9/FGwUQHhT%0d6MsNd"><field name="EXPRESSION">line.slice(prefix.length)</field></block></value></block></statement><next><block type="function_return" id="GKEDY0L1yOHk(,0m^K[Q"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="f!EXD.A_d_k?#Eatoj3E"><field name="NUM">0</field></shadow><block type="text" id="V;r*ND_a2NO/LB6u-EYH"><field name="TEXT"></field></block></value></block></next></block></next></block></statement></block></xml>